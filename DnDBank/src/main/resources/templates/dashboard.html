<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="/style.css" rel="stylesheet">
</head>
<body>
	<div th:replace="fragments/navbar"
		th:with="activePage='dashboard'"></div>
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6"  th:each="wallet:${wallets}">
				<div class="card">
					<div class="card-header text-center">
						<h4 th:text="${wallet.name}"></h4>
					</div>
					<div class="card-body">
						<div class="row text-center mb-3">
							<div class="col">
								<button class="btn btn-warning w-100 coin-button">
									Copper<br> <span th:text="${wallet.copper}"></span>
								</button>
							</div>
							<div class="col">
								<button class="btn btn-secondary w-100 coin-button">
									Silver<br> <span th:text="${wallet.silver}"></span>
								</button>
							</div>
							<div class="col">
								<button class="btn btn-warning text-white w-100 coin-button">
									Gold<br> <span th:text="${wallet.gold}"></span>
								</button>
							</div>
							<div class="col">
								<button class="btn btn-light text-dark w-100 coin-button">
									Platinum<br> <span th:text="${wallet.platinum}"></span>
								</button>
							</div>
						</div>
					</div>
					<button class="btn btn-primary" data-bs-toggle="modal"
						data-bs-target="#sendCoinsModal">Send</button>
				</div>
			</div>
		</div>
	</div>
	<!-- Send Coins Modal -->
	<div class="modal fade" id="sendCoinsModal" tabindex="-1"
		aria-labelledby="sendCoinsModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="sendCoinsModalLabel">Send Coins</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label for="recipientName" class="form-label">Recipient
							Name</label> <select class="form-select" id="recipientName">

						</select>
					</div>
					<div class="mb-3">
						<label class="form-label">Copper Coins</label>
						<div class="amount-group">
							<button class="btn btn-secondary" id="copperMinus">-</button>
							<input type="text" class="form-control text-center w-25"
								id="copperAmount" value="0" readonly>
							<button class="btn btn-secondary" id="copperPlus">+</button>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">Silver Coins</label>
						<div class="amount-group">
							<button class="btn btn-secondary" id="silverMinus">-</button>
							<input type="text" class="form-control text-center w-25"
								id="silverAmount" value="0" readonly>
							<button class="btn btn-secondary" id="silverPlus">+</button>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">Gold Coins</label>
						<div class="amount-group">
							<button class="btn btn-secondary" id="goldMinus">-</button>
							<input type="text" class="form-control text-center w-25"
								id="goldAmount" value="0" readonly>
							<button class="btn btn-secondary" id="goldPlus">+</button>
						</div>
					</div>
					<div class="mb-3">
						<label class="form-label">Platinum Coins</label>
						<div class="amount-group">
							<button class="btn btn-secondary" id="platinumMinus">-</button>
							<input type="text" class="form-control text-center w-25"
								id="platinumAmount" value="0" readonly>
							<button class="btn btn-secondary" id="platinumPlus">+</button>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary">Send</button>
				</div>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		// JavaScript for handling the increment and decrement of coin amounts
		function setupIncrementDecrement(buttonPlusId, buttonMinusId, inputId) {
			const plusButton = document.getElementById(buttonPlusId);
			const minusButton = document.getElementById(buttonMinusId);
			const inputField = document.getElementById(inputId);

			plusButton.addEventListener('click', function() {
				inputField.value = parseInt(inputField.value) + 1;
			});

			minusButton.addEventListener('click', function() {
				if (parseInt(inputField.value) > 0) {
					inputField.value = parseInt(inputField.value) - 1;
				}
			});
		}

		setupIncrementDecrement('copperPlus', 'copperMinus', 'copperAmount');
		setupIncrementDecrement('silverPlus', 'silverMinus', 'silverAmount');
		setupIncrementDecrement('goldPlus', 'goldMinus', 'goldAmount');
		setupIncrementDecrement('platinumPlus', 'platinumMinus',
				'platinumAmount');
	</script>
</body>
</html>
